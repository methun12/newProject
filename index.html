<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My Project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.0/html2pdf.bundle.min.js"></script>
   <style>

    </style>
  </head>
  <body>
    

      <div id="ssa" >

        <table style="width: 100%">
          <td colspan="5">
            
              <h1 style="text-align: center; margin-top: 5vh;" >ABDUL MOMEN LIMITED</h1>
          </td>
          <tr>
            <td >
              <label style="margin-left: 5vw" for="isu" class="">ISSU TO : </label>
              <input style="border : none" type="text" id="isu" placeholder="............." class="no-outline">
            </td>
            <td style="text-align: right">
              <label for="dat" class="">DATE : </label>
              <input  style="border : none; text-align: left" type="text" id="dat" placeholder="00-00-0000" class="no-outline">
            </td>
            
          </tr>
        </table>

    <table class="table" id="tab">
      <thead class="table-light">
        <tr>
          <th scope="col">S/L</th>
          <th scope="col">ITEMS</th>
          <th scope="col">P.S</th>
          <th scope="col">QUANTITY</th>
          <th scope="col">RATE</th>
          <th scope="col">AMOUNT</th>
        </tr>
      </thead>
      <tbody>
      
      </tbody>
    </table>
      </div>

      <h4>Add New item </h4>
      
      <div class="input-group mb-3">
            <div class="form-control">
                <label for="selectItem" class="form-label">Items</label>
                <select id="selectItem" class="form-select"  aria-label="Default select example">
                    
                    <option value="24">CHOCOBAR</option>
                    <option value="24">MINI CHOC</option>
                    <option value="25">SHELL</option>
                    <option value="25">LOLLY-LEMON</option>
                    <option value="25">DUDH-MALAI</option>
                    <option value="3">EGO</option>
                  </select>
            </div>
            <div class="form-control">
                <label for="quantityInput" class="form-label">Quantity</label>
                <input type="text" id="quantityInput" class="form-control">
            </div>

            <div class="form-control">
                <label for="rateInput" class="form-label">Rate</label>
                <input type="text" id="rateInput" class="form-control">
            </div>
            <div class="form-control">
                <label for="amt" class="form-label">Amount</label>
                <input type="text" id="amt" class="form-control">
            </div>
      </div>


      
      <div class="d-grid gap-2 col-6 mx-auto">
        <button class="btn btn-primary" onclick="addRow()" type="button">Add item</button>
        <button class="btn btn-primary" onclick="deleteRow()" type="button">Delete</button>
        <button class="btn btn-primary" onclick="exportToPDF()" type="button">Download Report</button>
       
        
      </div>

      

      <script>
       
        function m(){
            var table = document.getElementById("tab");
            

           

            var quantaty = document.getElementById("quantityInput").value;
            var rate = document.getElementById("rateInput").value;
            var am = document.getElementById("amt").value;
            
            var tableLength = table.tBodies[0].rows.length;
        console.log("Table length:", tableLength);

         


            var itm = document.getElementById("selectItem");
            var row = table.insertRow();
            var cell1 = row.insertCell(table.length);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            

           

            cell1.innerHTML = ""+tableLength;
            cell2.innerHTML = selectedItem;
            cell3.innerHTML = selectedOption.value;
            cell4.innerHTML = quantaty;
            cell5.innerHTML = rate;
            cell6.innerHTML = am;
          }

        
        function exportToPDF() {
            const element = document.getElementById("ssa");
            html2pdf()
                .from(element)
                .save('table.pdf');
        }
        function deleteRow(){
          var ax = prompt("S/L no : ");
            if(ax > 0){
              document.getElementById("tab").deleteRow(ax);
              updateSequentialNumbers();
            }
        }

        function getCurrentDate() {
    var currentDate = new Date();
    var day = currentDate.getDate();
    var month = currentDate.getMonth() + 1; // Months are zero-based
    var year = currentDate.getFullYear();

    // Format day, month, and year to have leading zeros if needed
    day = (day < 10) ? '0' + day : day;
    month = (month < 10) ? '0' + month : month;

    var formattedDate = day + '-' + month + '-' + year;
    document.getElementById("dat").value = formattedDate;
   // return formattedDate;
}
getCurrentDate();





function addRow() {
    var table = document.getElementById("tab").getElementsByTagName('tbody')[0];
    var item = document.getElementById("selectItem");
    var selectedItem = item.options[item.selectedIndex].text;
    var selectedOption = item.options[item.selectedIndex];
    var newRow = table.insertRow();

    // Add sequential number in the first column
    var cell1 = newRow.insertCell(0);
    cell1.textContent = table.rows.length;

    // Add cells for other columns (you can add more as needed)
    var cell2 = newRow.insertCell(1);
    cell2.textContent = selectedItem;
    var cell3 = newRow.insertCell(2);
    cell3.textContent = selectedOption.value;

    // Add delete button in the last column
    var cell4 = newRow.insertCell(3);
    cell4.textContent = document.getElementById("quantityInput").value;
    var cell5 = newRow.insertCell(4);
    cell5.textContent = document.getElementById("rateInput").value;
    var cell6 = newRow.insertCell(5);
    cell6.textContent = document.getElementById("amt").value;
    /*
    var deleteButton = document.createElement("button");
    deleteButton.textContent = "Delete";
    deleteButton.onclick = function() {
        deleteRow(this);
    };
    cell4.appendChild(deleteButton);
    */

    // Update sequential numbers
    updateSequentialNumbers();
}
/*
function deleteRow() {
    var row = 1;
    row.parentNode.removeChild(row);

    // Update sequential numbers after deletion
    updateSequentialNumbers();
}
*/
function updateSequentialNumbers() {
    var table = document.getElementById("tab").getElementsByTagName('tbody')[0];
    for (var i = 0; i < table.rows.length; i++) {
        table.rows[i].cells[0].textContent = i + 1;
    }}
      </script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
  </body>
</html>
