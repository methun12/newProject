<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Current Date in dd-mm-yyyy Format</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.0/html2pdf.bundle.min.js"></script>

</head>
<body>



<div style="background-color: #dbe2f1;">
    <h1 class="text-center " style="width:100vw;font-family:serif;" >New Laky Traders</h1>
    <p class="text-center " style="width:100vw;font-family:serif;" >Sole Distributor</p>
    <h2 class="text-center " style="width:100vw;font-family:serif;">IGLOO Ice-cream</h2>
    <p class="text-center " style="width:100vw;font-family:serif;" >Pro: Rezaul Karim [Raj]</p>
    <p class="text-center text-light" style="width:100vw;background-color: #385391;font-family:serif;" >Shalgaria Hospital Road , Pabna</p>

    <div class="container ">
        <div class="row align-items-center">
          <div class="col">
            <label style="font-family:  serif;" for="name" class="form-label">Issue To : </label>
            <input style="border : none; text-align: left;background-color: #dbe2f1;" class="no-outline" value="" type="text"  id="name" >
          </div>
          <div class="col">
            
          </div>
          <div class="col">
            <label style="font-family:  serif;" for="rateInput" class="form-label">Delivery Date : </label>
            <input placeholder="dd/mm/yyyy" style="border : none; text-align: left;background-color: #dbe2f1;" class="no-outline" type="text" value=""  id="rateInput" >
          </div>
        </div>
      </div>

    <div class="container">
        <div class="row align-items-center">
          <div class="col ">
            <label style="font-family:  serif" for="name" class="form-label">Address : </label>
            <input style="border : none; text-align: left;background-color: #dbe2f1;" class="no-outline" type="text" value=""  id="name" >
          </div>
          <div class="col">
            
          </div>
          <div class="col">
           
          </div>
        </div>
      </div>
    <table id="table" style="font-family:  serif;" class="table table-bordered table-hover text-center">
        <thead class="table-light">
          <tr>
            <th  rowspan="2" scope="col">Sl No : </th>
            <th >Product Name<br>[Item]</th>
            <th >P.S</th>
            <th scope="col">Carton<br>[Quantity]</th>
            <th scope="col">Price<br>[Per Carton]</th>
            <th scope="col">Net Price</th>
            <th scope="col">Free Item</th>
          </tr>
        </thead>
        <tbody> 
         <tr>
            <td colspan="5">Total Price : </td>
            <td colspan="2">0</td>
            
         </tr>
          
        </tbody>
      </table>

      <h4>Add New item </h4>
      
      <div class="input-group mb-3">
            <div class="form-control">
                <label for="selectItem" class="form-label">Product Name<br>[Item]</label>
                <select id="selectItem" class="form-select"  aria-label="Default select example">
                    
                    <option value="24">CHOCOBAR</option>
                    <option value="24">MINI CHOC</option>
                    <option value="25">SHELL</option>
                    <option value="25">LOLLY-LEMON</option>
                    <option value="25">DUDH-MALAI</option>
                    <option value="3">EGO</option>
                  </select>
            </div>
            <div class="form-control">
                <label for="quantityInput" class="form-label">Carton<br> [Quantity]</label>
                <input type="number" onkeypress="return isNumberKey(event)"  value='' min="0" step="1" data-bind="value:quantityInput" id="quantityInput" class="form-control">
            </div>

            <div class="form-control">
                <label for="psInp" class="form-label">Price<br>[Per Carton]</label>
                <input type="number" value="" type="number" onkeypress="return isNumberKey(event)"  value='' min="0" step="1" data-bind="value:psInp" id="psInp" class="form-control">
            </div>
            <div class="form-control">
                <label for="amt" class="form-label">Free Item<br> .</label>
                <input type="number" value="" type="number" onkeypress="return isNumberKey(event)"  value='' min="0" step="1" data-bind="value:amt" id="amt" class="form-control">
            </div>
      </div>

        <div class="d-grid gap-2 col-6 mx-auto">
        <button class="btn btn-primary" onclick="insertCell()" type="button">Add item</button>
        <button class="btn btn-primary" onclick="deleteRow()" type="button">Delete</button>
        <button class="btn btn-primary" onclick="m()" type="button">Download Report</button>
       
        
      </div>
</div>



<script>
function getCurrentDate() {
    var currentDate = new Date();
    var day = currentDate.getDate();
    var month = currentDate.getMonth() + 1; // Months are zero-based
    var year = currentDate.getFullYear();

    // Format day, month, and year to have leading zeros if needed
    day = (day < 10) ? '0' + day : day;
    month = (month < 10) ? '0' + month : month;

    var formattedDate = day + '-' + month + '-' + year;

    return formattedDate;
}

function insertCell(){


    var table = document.getElementById('table');
    
    //add new item
      var quantaty = document.getElementById("quantityInput").value;
      var ratx = document.getElementById("psInp").value;
      var item = document.getElementById("selectItem");
      var am = document.getElementById("amt").value;
     
      if(quantaty =='' || ratx ==''){
                alert("Null Input !");
                return;
            } 

      var selectedItem = item.options[item.selectedIndex].text;
      var selectedOption = item.options[item.selectedIndex];
            //.....

            var row = table.insertRow(table.rows.length-1);

            

    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    var cell4 = row.insertCell(3);
    var cell5 = row.insertCell(4);
    var cell6 = row.insertCell(5);
    var cell7 = row.insertCell(6);

    cell1.innerHTML = table.rows.length-2;
    cell2.innerHTML = selectedItem;
    cell3.innerHTML = selectedOption.value;
    cell4.innerHTML = quantaty;
    cell5.innerHTML = ratx;
    cell6.innerHTML = parseInt(quantaty,10) * parseInt(ratx,10);
    cell7.innerHTML = am;

    updateSequentialNumbers();
    document.getElementById("quantityInput").value = '';
    document.getElementById("psInp").value = '';
    document.getElementById("amt").value = '';

    sumCell();
            
}
function sumCell(){
    var sum = 0;
    var table = document.getElementById('table');
    for(var i=1; i <= table.rows.length-2; i++){
       sum += parseInt(table.rows[i].cells.item(5).innerHTML,10);
    }
    table.rows[table.rows.length-1].cells.item(1).innerHTML=sum;
    console.log(sum);
}


function m(){
    alert("This Feature is not available at this time");
}

function deleteRow(){
          var ax = prompt("S/L no : ");
            if(ax > 0){
              document.getElementById("table").deleteRow(ax);
              updateSequentialNumbers();
              sumCell();
            }
        }
function isNumberKey(evt)
			{
				var charCode = (evt.which) ? evt.which : evt.keyCode;
				if (charCode != 46 && charCode > 31 
				&& (charCode < 48 || charCode > 57))
				return false;
				return true;
			}  
            function updateSequentialNumbers() {
    var table = document.getElementById("table").getElementsByTagName('tbody')[0];
    for (var i = 0; i < table.rows.length-1; i++) {
        table.rows[i].cells[0].textContent = i + 1;
    }}
    

//document.getElementById("currentDate").textContent = getCurrentDate();
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>
